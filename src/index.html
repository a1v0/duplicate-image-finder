<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Duplicate Finder</title>
    <style>
        body {
            background-color: maroon;
            font-size: 40pt;
        }

        img {
            border: blue 20px solid;
        }

        button {
            padding: 80px;
            width: 100%;
            font-size: 50pt;
        }

        #current-row,
        #quantity {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <h1>iCloud Duplicate Finder</h1>
    <p>Current row: <span id="current-row">n/a</span></p>
    <p>Quantity: <span id="quantity">n/a</span></p>
    <button onclick="displayImages()">Start/New Row</button>
    <main id="image-section"></main>

    <script type="text/javascript" defer>
        /**
         * CSV goes here!
         */
        const CSV_CONTENTS = `1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20`;

        const baseURL = "file:///C:/Users/mensu/Pictures/iCloud%20Photos/Photos/";

        const csvRows = CSV_CONTENTS.split("\n");
        let rowIndex = 1; // start at 1 to ignore row headers

        const rowCounter = document.getElementById("current-row");
        const imageSection = document.getElementById("image-section");
        const quantity = document.getElementById("quantity");

        function displayImages() {
            rowCounter.innerText = rowIndex;
            imageSection.innerHTML = "";

            const fileNames = csvRows[rowIndex].split(",");
            quantity.innerText = fileNames.length;
            fileNames.forEach((fileName) => {
                const header = document.createElement("h2");
                header.innerText = fileName;
                imageSection.appendChild(header);
                const image = document.createElement("img");
                image.src = baseURL + fileName;
                imageSection.appendChild(image);
            });

            ++rowIndex;
        }
    </script>
</body>

</html>