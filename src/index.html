<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Duplicate Finder</title>
    <style>
        img {
            border: red 5px solid;
        }

        button {
            padding: 10px;
        }

        #current-row {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <h1>iCloud Duplicate Finder</h1>
    <p>Current row: <span id="current-row">n/a</span></p>
    <button onclick="displayImages()">Start/New Row</button>
    <main id="image-section"></main>

    <script type="text/javascript" defer>
        /**
         * CSV goes here!
         */
        const CSV_CONTENTS = `1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20
IMG_4551 - Copy.JPG,IMG_4551.JPG`;

        const baseURL = "file:///C:/Users/mensu/Pictures/iCloud%20Photos/Photos/";

        const csvRows = CSV_CONTENTS.split("\n");
        let rowIndex = 1; // start at 1 to ignore row headers

        const rowCounter = document.getElementById("current-row");
        const imageSection = document.getElementById("image-section");

        function displayImages() {
            rowCounter.innerText = rowIndex;

            const fileNames = csvRows[rowIndex].split(",");
            fileNames.forEach((fileName) => {
                const header = document.createElement("h2");
                header.innerText = fileName;
                imageSection.appendChild(header);
                const image = document.createElement("img");
                image.src = baseURL + fileName;
                imageSection.appendChild(image);
            });

            ++rowIndex;
        }
    </script>
</body>

</html>